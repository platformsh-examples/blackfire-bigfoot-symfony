{% extends 'base.html.twig' %}

{% block body %}
<div class="col-8">
    <h3>Recently Reported Sightings</h3>
    <small>Submit yours to help us narrow down this search</small>
    <table class="table table-striped table-dark table-borderless table-hover">
        <thead>
            <tr class="bg-info">
                <th>Sighting Details</th>
                <th>Posted</th>
                <th>Comments</th>
            </tr>
        </thead>
        <tbody class="js-sightings-list" data-url="{{ path('app_sightings_partial_list') }}">
        {% for sightingData in sightings %}
            {% set sighting = sightingData.0 %}
            {% set commentsCount = sightingData.comments_count %}
            <tr>
                <td>
                    <a class="text-white" href="{{ path('app_sighting_show', {id: sighting.id}) }}">
                        {{ sighting.title }}
                    </a>
                </td>
                <td class="text-nowrap">
                    <time class="table-content" datetime="{{ sighting.createdAt|date('Y-m-d H:i') }}">{{ sighting.createdAt|time_diff }}</time>
                </td>
                <td>
                    <a class="text-white table-content text-center" href="{{ path('app_sighting_show', {id: sighting.id}) }}">{{ commentsCount }}</a>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
<div class="col-4">
    <div class="js-github-organization" data-url="{{ path('app_github_organization_info') }}"></div>
</div>

{% endblock %}